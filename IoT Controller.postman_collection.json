{
	"info": {
		"_postman_id": "76bb2963-78a3-484e-bce4-8fcc1221e255",
		"name": "IoT Controller",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get authentication token",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);\r",
							"pm.collectionVariables.set(\"token\", jsonData.access_token);\r",
							"pm.collectionVariables.set(\"refreshToken\", jsonData.refresh_token);\r",
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"pm.collectionVariables.set(\"BaseURL\", \"10.0.0.246\");"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "Ruckus123!",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
						"key": "Authorization",
						"value": "Token{{Token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/v1/oauth/login",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"v1",
						"oauth",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Refresh token",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);\r",
							"pm.collectionVariables.set(\"token\", jsonData.access_token);"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{refreshToken}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/v1/oauth/refresh",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"v1",
						"oauth",
						"refresh"
					]
				}
			},
			"response": []
		},
		{
			"name": "Change IoT radio mode",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"value": "Token {{token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"iot_mode\": \"ble\",\n    \"network_mac\": \"{{network_mac}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/gateway/{{gateway_euid}}/management/IOT_MODE",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"gateway",
						"{{gateway_euid}}",
						"management",
						"IOT_MODE"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get IoT gateways",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"pm.collectionVariables.set(\"gateway_euid\", jsonData.data[0].gateway_euid);",
							"pm.collectionVariables.set(\"network_mac\", jsonData.data[0].network_info[0].network_mac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/gateway",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"gateway"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get IoT gateways scanning",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"pm.collectionVariables.set(\"gateway_euid\", jsonData.data[0].gateway_euid);",
							"pm.collectionVariables.set(\"network_mac\", jsonData.data[0].network_info[0].network_mac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/gateway",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"gateway"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create zigbee device",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"device_name\": \"DOOR01\",\n    \"device_tags\": [],\n    \"device_euid\": \"00:0D:6F:00:11:28:9C:1E\",\n    \"gateway_euid\": \"{{gateway_euid}}\",\n    \"network_mac\": \"{{network_mac}}\",\n    \"network_type\": \"zigbee\",\n    \"blacklist\": false\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device"
					]
				}
			},
			"response": []
		},
		{
			"name": "Start device scan",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"gateway_euid\": \"4C:B1:CD:1E:4D:F0\",\n    \"value\": \"ON\",\n    \"network_mac\": \"D0:CF:5E:FF:FE:EF:C4:87\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/gateway/scan/start",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"gateway",
						"scan",
						"start"
					]
				}
			},
			"response": []
		},
		{
			"name": "Stop device scan",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"gateway_euid\": \"4C:B1:CD:1E:4D:F0\",\n    \"value\": \"ON\",\n    \"network_mac\": \"D0:CF:5E:FF:FE:EF:C4:87\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/gateway/scan/stop",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"gateway",
						"scan",
						"stop"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update zigbee device",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"device_name\": \"DOOR02\",\n    \"device_tags\": [\"sheldon\", \"door02\"],\n    \"gateway_euid\": \"{{gateway_euid}}\",\n    \"blacklist\": false\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete zigbee device",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"pm.collectionVariables.set(\"gateway_euid\", jsonData.data[0].gateway_euid);",
							"pm.collectionVariables.set(\"network_mac\", jsonData.data[0].network_info[0].network_mac);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "[\n    {\n        \"Device MAC\": \"00:0D:6F:00:11:28:9C:1E\"\n    }\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get IoT devices",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"pm.collectionVariables.set(\"device_euid\", jsonData.data[0].device_euid);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Token {{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get IoT devices with filter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Token {{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device?device_name=DOOR01&connected=true",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device"
					],
					"query": [
						{
							"key": "device_name",
							"value": "DOOR01"
						},
						{
							"key": "connected",
							"value": "true"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get IoT devices by string",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Token {{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/search?search_string=POWER&limit=1&offset=1",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"search"
					],
					"query": [
						{
							"key": "search_string",
							"value": "POWER"
						},
						{
							"key": "limit",
							"value": "1"
						},
						{
							"key": "offset",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get devices type count",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Token {{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/dashboard/devicetype",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"dashboard",
						"devicetype"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get devices by protocol",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Token {{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/dashboard/devicesbyprotocol",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"dashboard",
						"devicesbyprotocol"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get device zcl capabilities",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}/capability",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}",
						"capability"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get device zcl details",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get centralite door sensor value",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}/zclattribute?clust_id=0x0500&attr_id=0x0002&endpoint_id=1",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}",
						"zclattribute"
					],
					"query": [
						{
							"key": "clust_id",
							"value": "0x0500"
						},
						{
							"key": "attr_id",
							"value": "0x0002"
						},
						{
							"key": "endpoint_id",
							"value": "1"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get beacon messages",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/beacon?gateway_euid={{gateway_euid}}",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"beacon"
					],
					"query": [
						{
							"key": "offset",
							"value": "20",
							"disabled": true
						},
						{
							"key": "limit",
							"value": "1",
							"disabled": true
						},
						{
							"key": "total_count",
							"value": "5",
							"disabled": true
						},
						{
							"key": "deviceAddress",
							"value": "00:00:1E:91:04:6B:C0:CA",
							"disabled": true
						},
						{
							"key": "gateway_euid",
							"value": "{{gateway_euid}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get controller events",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/insights?line_num=10&search_string=Radio",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"insights"
					],
					"query": [
						{
							"key": "offset",
							"value": "20",
							"disabled": true
						},
						{
							"key": "limit",
							"value": "1",
							"disabled": true
						},
						{
							"key": "total_count",
							"value": "5",
							"disabled": true
						},
						{
							"key": "deviceAddress",
							"value": "00:00:1E:91:04:6B:C0:CA",
							"disabled": true
						},
						{
							"key": "line_num",
							"value": "10"
						},
						{
							"key": "search_string",
							"value": "Radio"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Enable Beacons as a Service plugin",
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"sdk\": \"baas\",\n    \"config\": {\n        \"baas_adv_interval\": \"100\",\n        \"baas_adv_mode\": \"-1\",\n        \"baas_enable_all\": \"1\",\n        \"baas_adv_beacon_type\": \"0\",\n        \"baas_custom_vendor_type\": \"0\",\n        \"baas_custom_service_values\": {},\n        \"baas_ibeacon_uuid\": \"0047e70a5dc147258799830544ae04f6\",\n        \"baas_ibeacon_major\": \"0102\",\n        \"baas_ibeacon_minor\": \"0000\",\n        \"baas_ibeacon_tx_power\": \"0\",\n        \"baas_eddystone_namespace_id\": \"48d815a81b09b25a41b1\",\n        \"baas_eddystone_instance_id\": \"6b2441d56920\",\n        \"baas_eddystone_tx_power\": \"0\",\n        \"baas_eddystone_url\": \"http://www.ruckuswireless.com\"\n    }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/service/v1/sdk",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"service",
						"v1",
						"sdk"
					]
				}
			},
			"response": []
		},
		{
			"name": "Turn RGB light on",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"endpoint_id\": \"1\",\n    \"cluster_id\": \"0x0006\",\n    \"command_id\": \"0x00\",\n    \"parent_command\": \"zcl on-off\",\n    \"params\": {}\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}/zclcapability",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}",
						"zclcapability"
					]
				}
			},
			"response": []
		},
		{
			"name": "Turn RGB light off",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "PUT",
				"header": [
					{
						"key": "Authorization",
						"type": "text",
						"value": "Token {{token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"endpoint_id\": \"1\",\n    \"cluster_id\": \"0x0006\",\n    \"command_id\": \"0x01\",\n    \"parent_command\": \"zcl on-off\",\n    \"params\": {}\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://{{BaseURL}}/app/v1/device/{{device_euid}}/zclcapability",
					"protocol": "https",
					"host": [
						"{{BaseURL}}"
					],
					"path": [
						"app",
						"v1",
						"device",
						"{{device_euid}}",
						"zclcapability"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "token",
			"value": "c157f27bed464069a5b7e35974ce3222"
		},
		{
			"key": "Token",
			"value": "9aa665cc58214d989b6e0de78edcae0\n"
		},
		{
			"key": "BaseURL",
			"value": "10.0.0.73"
		},
		{
			"key": "device_euid",
			"value": "00:15:8D:00:04:76:9B:05"
		},
		{
			"key": "refreshToken",
			"value": "f469096e10324420ac8eb65d7387a3a8"
		},
		{
			"key": "network_mac",
			"value": ""
		},
		{
			"key": "gateway_euid",
			"value": ""
		}
	]
}